<html>
  <body>
    <h1>Speedycrew API v1 test page</h1>

    <h2>Session management</h2>
    <p>
      Most API called require a 'token'.  The only way to get one is
      to log in.  The only way to log in is to create an account
      first.  Users can log in from multiple devices the same time,
      and tokens currently last forever, or until they log out.
    </p>
    <ol>
      <li>
        To create an account, HTTP POST
        to <code>/api/1/create_account</code> with
        parameters <code>username</code>, <code>firstname</code>,
        <code>lastname</code>, <code>email</code>, <code>password</code>.
        <form action="create_account" method="POST">
          username = <input name="username" type="input"/>,
          firstname = <input name="firstname" type="input"/>,
          lastname = <input name="lastname" type="input"/>,
          email = <input name="email" type="input"/>,
          password = <input name="password" type="password">
          <input type="submit"/>
        </form>
      </li>
      <li>
        To log in, HTTP POST to <code>/api/1/login</code> with
        parameters <code>username</code> and <code>password</code>.
        <form action="login" method="POST">
          username = <input name="username" type="input"/>,
          password = <input name="password" type="password"/>,
          <input type="submit"/>
        </form>
        Results look like:
<code><pre>
{
    "status": "OK", 
    "firstname": "Joe",
    "email": "bloggo@chef.com", 
    "lastname": "Bloggs", 
    "token": "68f22a73a6884dd7856f64160790e7e4"
}
</pre></code> or like this:
<code><pre>
{
    "status": "FAIL"
}
</pre></code>
	<br/>
	(Test accounts: maguire_the_knife/foo, coulis/foo, spudpeeler/foo).
      </li>
      <li>
        To log out, HTTP POST to <code>/api/1/logout</code> with <code>token</code> obtained by logging in.
        <form action="logout" method="POST">
          token = <input name="token">,
          <input type="submit">
        </form>
        If the token was known, and the session was currently logged
        in (hadn't already been logged out), then the result looks
        like this:
<code><pre>
{
    "status": "OK"
}
</pre></code> Otherwise it looks like this:
<code><pre>
{
    "status": "FAIL"
}
</pre></code>
      </li>
    </ol>

    <p>Coming soon: forgotten passwords.</p>

    <h2>Profile management</h2>

    <p>* NOT WORKING YET *</p>
    <ol>
      <li>To fetch profile data, HTTP POST
        to <code>/api/1/profile</code> with <code>token</code> obtained
        by logging in.
        <form action="profile" method="POST">
          token = <input name="token">,
          <input type="submit"/>
        </form>
      </li>
      <li>
        To update profile data, HTTP POST
        to <code>/api/1/profile</code>
        with <code>token</code>, <code>message</code>. ... TODO
      </li>
    </ol>

    <h2>Simple searches</h2>

    <ol>
      <li>
        To find available people, HTTP POST
        to <code>/api/1/file</code>
        with <code>token</code>, <code>day</code>, <code>skill</code>, <code>longitude</code>, <code>latitude</code>.
        <form action="find" method="POST">
          token = <input type="input" name="token"/>,
          day = <input type="input" name="day"/>,
          skill = <input type="input" name="skill"/>,
          longitude = <input type="input" name="longitude"/>,
          latitude = <input type="input" name="latitude">,
          <input type="submit"/>
        </form>
      </li>
    </ol>
    
    <h2>Project management</h2>
  </body>
</html>

